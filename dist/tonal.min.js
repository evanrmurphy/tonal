!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.Tonal={})}(this,function(n){"use strict";function t(n){"string"!=typeof n&&(n="");var t=K.exec(n);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:null}function r(n,t){return n=Math.round(n),(!0===t?H:J)[n%12]+(Math.floor(n/12)-1)}function e(n,t){for(var r=[];t--;r[t]=t+n);return r}function m(n,t){for(var r=[];t--;r[t]=n-t);return r}function i(n,t){return null===n||null===t?[]:n<t?e(n,t-n+1):m(n,n-t+1)}function u(n,t){var r=t.length,e=(n%r+r)%r;return t.slice(e,r).concat(t.slice(0,e))}function o(n){return hn(n.map(X)).sort(function(n,t){return vn(n)>vn(t)})}function P(n){return o(n).filter(function(n,t,r){return 0===t||n!==r[t-1]})}function a(n){return"string"!=typeof n?kn:$n[n]||($n[n]=Sn(n))}function M(n){var t=(n+1)%7;return t<0?7+t:t}function c(n,t){if(1===arguments.length)return function(t){return c(n,t)};var r=rt(n),e=et(t);if(null===r||null===e)return null;var m=1===r.length?[r[0]+e[0]]:[r[0]+e[0],r[1]+e[1]];return sn(Zn(m[0],m[1]))}function l(n,t){if(1===arguments.length)return function(t){return l(n,t)};var r=rt(n);return null===r?null:sn(Zn(r[0]+t))}function f(n,t){if(1===arguments.length)return function(t){return f(n,t)};var r=rt(n),e=rt(t);return null===e||null===r?null:e[0]-r[0]}function s(n,t){return 1===arguments.length?function(t){return c(t,n)}:c(t,n)}function d(n,t,r){var e=et(n),m=et(t);if(null===e||null===m)return null;var i=[e[0]+r*m[0],e[1]+r*m[1]];return Nn(it(i))}function p(n,t){return 1===arguments.length?function(t){return p(n,t)}:d(n,t,1)}function b(n,t){return 1===arguments.length?function(t){return p(n,t)}:d(n,t,-1)}function h(n,t){if(1===arguments.length)return function(t){return h(n,t)};var r=rt(n),e=rt(t);if(null===r||null===e||r.length!==e.length)return null;var m=1===r.length?[e[0]-r[0],-Math.floor(7*(e[0]-r[0])/12)]:[e[0]-r[0],e[1]-r[1]];return Nn(it(m))}function v(n,t){if(1===arguments.length)return function(t){return v(n,t)};var r=W(n),e=W(t);return null!==r.midi&&null!==e.midi?e.midi-r.midi:null!==r.chroma&&null!==e.chroma?(e.chroma-r.chroma+12)%12:null}function A(n){if(y(n))return n;if(!Array.isArray(n))return"";var t=[0,0,0,0,0,0,0,0,0,0,0,0];return n.map(at).forEach(function(n){t[n]=1}),t.join("")}function g(n){return lt=lt||i(2048,4095).map(function(n){return n.toString(2)}),"number"==typeof n?lt.filter(function(t){return ct(t)===n}):lt.slice()}function j(n,t){t=!1!==t;var r=A(n).split("");return hn(r.map(function(n,e){var m=u(e,r);return t&&"0"===m[0]?null:m.join("")}))}function y(n){return ft.test(n)}function O(n){return y(n)?hn(n.split("").map(function(n,t){return"1"===n?st[t]:null})):[]}function _(n,t){return 1===arguments.length?function(t){return _(n,t)}:A(n)===A(t)}function x(n,t){return arguments.length>1?x(n)(t):(n=Mt(n),function(t){return(t=Mt(t))!==n&&(t&n)===t})}function z(n,t){return arguments.length>1?z(n)(t):(n=Mt(n),function(t){return(t=Mt(t))!==n&&(t|n)===t})}function q(n,t){return arguments.length>1?q(n)(t):(n=A(n),function(t){return"1"===n[at(t)]})}function k(n,t){return 1===arguments.length?function(t){return k(n,t)}:t.filter(q(n))}function w(n,t){var r=D(n);return t=t||r[1],_t(t).map(c(r[0]))}function C(n){var t=D(n);return void 0!==ht(t[1])}function D(n){if("string"!=typeof n)return["",""];var t=n.indexOf(" "),r=X(n.substring(0,t))||X(n)||"",e=""!==r?n.substring(r.length+1):n;return[r,e.length?e:""]}function E(n,t){var r=S(n);return t=t||r[1],St(t).intervals.map(c(r[0]))}function S(n){var r=t(n);return""===r[0]?["",n]:"A"===r[0]&&"ug"===r[3]?["","aug"]:It.test(r[2])?[r[0]+r[1],r[2]+r[3]]:[r[0]+r[1]+r[2],r[3]]}function $(n){return"number"==typeof n?n:nn(n)}function F(n){return n.map($).reduce(function(n,t,r){if(1===r)return i(n,t);var e=n[n.length-1];return n.concat(i(e,t).slice(1))})}function G(n,t){return F(n).map(function(n){return r(n,t)})}function B(n,t){return F(t).map(l(n))}function I(n,t){return 1===arguments.length?function(t){return I(n,t)}:k(n,G(t))}function T(n){var t=Lt.exec(n);return t?[t[1],t[2],t[3]]:["","",""]}function N(n){var t=T(n),r=t[0],e=t[1],m=t[2];if(""===e)return null;for(var i=4,u=0;u<m.length;u++)i+=","===m[u]?-1:1;var o="_"===r[0]?r.replace(/_/g,"b"):"^"===r[0]?r.replace(/\^/g,"#"):"";return e.charCodeAt(0)>96?e.toUpperCase()+o+(i+1):e+o+i}function L(n){var t=W(n),r=t.letter,e=t.acc,m=t.oct;return("b"===e[0]?e.replace(/b/g,"_"):e.replace(/#/g,"^"))+(m>4?r.toLowerCase():r)+(5===m?"":m>4?Rt("'",m-5):Rt(",",4-m))}var R="C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B".split(" "),U=function(n){return"string"!=typeof n?R.slice():R.filter(function(t){var r=t[1]||" ";return-1!==n.indexOf(r)})},H=U(" #"),J=U(" b"),K=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/,Q=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),V=[0,2,4,5,7,9,11],W=function(n,t){return void 0===t&&(t={}),function(r){return t[r]||(t[r]=n(r))}}(function(n){var r=t(n);if(""===r[0]||""!==r[3])return Q;var e=r[0],m=r[1],i=r[2],u={letter:e,acc:m,octStr:i};return u.pc=u.letter+u.acc,u.name=u.pc+i,u.step=(u.letter.charCodeAt(0)+3)%7,u.alt="b"===u.acc[0]?-u.acc.length:u.acc.length,u.oct=i.length?+i:null,u.chroma=(V[u.step]+u.alt+120)%12,u.midi=null!==u.oct?V[u.step]+u.alt+12*(u.oct+1):null,u.freq=tn(u.midi),Object.freeze(u)}),X=function(n){return W(n).name},Y=function(n){return W(n).pc},Z=function(n){return n>=0&&n<=127},nn=function(n){if("number"!=typeof n&&"string"!=typeof n)return null;var t=W(n).midi,r=t||0===t?t:+n;return Z(r)?r:null},tn=function(n,t){return void 0===t&&(t=440),"number"==typeof n?Math.pow(2,(n-69)/12)*t:null},rn=function(n){return W(n).freq||tn(n)},en=Math.log(2),mn=Math.log(440),un=function(n){var t=12*(Math.log(n)-mn)/en+69;return Math.round(100*t)/100},on=function(n){return W(n).chroma},Pn=function(n){return W(n).oct},an=function(n){return"CDEFGAB"[n]},Mn=function(n,t){return Array(t+1).join(n)},cn=function(n,t){return"number"!=typeof n?"":t(n)},ln=function(n){return cn(n,function(n){return n<0?Mn("b",-n):Mn("#",n)})},fn=function(n,t){void 0===n&&(n={}),void 0===t&&(t=null);var r=t?Object.assign({},W(t),n):n,e=r.step,m=r.alt,i=r.oct,u=an(e);if(!u)return null;var o=u+ln(m);return i||0===i?o+i:o},sn=fn,dn=function(n,t){var e=W(n),m=e.alt,i=e.chroma,u=e.midi;if(null===i)return null;var o=!1===t?m<0:m>0;return null===u?Y(r(i,o)):r(u,o)},pn=function(n){return dn(n,!1)},bn=Object.freeze({names:U,tokenize:t,props:W,name:X,pc:Y,midi:nn,midiToFreq:tn,freq:rn,freqToMidi:un,chroma:on,oct:Pn,stepToLetter:an,altToAcc:ln,from:fn,build:sn,fromMidi:r,simplify:dn,enharmonic:pn}),hn=function(n){return n.filter(function(n){return 0===n||n})},vn=function(n){var t=W(n).midi;return null!==t?t:W(n+"-100").midi},An=function(n,t){void 0===t&&(t=Math.random);for(var r,e,m=n.length;m;)r=t()*m--|0,e=n[m],n[m]=n[r],n[r]=e;return n},gn=function(n){return 0===n.length?[[]]:gn(n.slice(1)).reduce(function(t,r){return t.concat(n.map(function(t,e){var m=r.slice();return m.splice(e,0,n[0]),m}))},[])},jn=Object.freeze({range:i,rotate:u,compact:hn,sort:o,unique:P,shuffle:An,permutations:gn}),yn=new RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$"),On=[0,2,4,5,7,9,11],_n=[0,1,2,3,4,5,6,5,4,3,2,1],xn="1P 2m 2M 3m 3M 4P 5P 6m 6M 7m 7M 8P".split(" "),zn=function(n){return"string"!=typeof n?xn.slice():xn.filter(function(t){return-1!==n.indexOf(t[1])})},qn=function(n){var t=yn.exec(n);return null===t?null:t[1]?[t[1],t[2]]:[t[4],t[3]]},kn=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null}),wn=function(n,t){return Array(Math.abs(t)+1).join(n)},Cn=function(n,t){return"M"===t&&"M"===n?0:"P"===t&&"P"===n?0:"m"===t&&"M"===n?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?"P"===n?-t.length:-t.length-1:null},Dn=function(n,t){return 0===t?"M"===n?"M":"P":-1===t&&"M"===n?"m":t>0?wn("A",t):t<0?wn("d","P"===n?t:t+1):null},En=function(n){return(Math.abs(n)-1)%7},Sn=function(n){var t=qn(n);if(null===t)return kn;var r={num:+t[0],q:t[1]};return r.step=En(r.num),r.type="PMMPPMM"[r.step],"M"===r.type&&"P"===r.q?kn:(r.name=""+r.num+r.q,r.dir=r.num<0?-1:1,r.simple=8===r.num||-8===r.num?r.num:r.dir*(r.step+1),r.alt=Cn(r.type,r.q),r.oct=Math.floor((Math.abs(r.num)-1)/7),r.semitones=r.dir*(On[r.step]+r.alt+12*r.oct),r.chroma=(r.dir*(On[r.step]+r.alt)%12+12)%12,Object.freeze(r))},$n={},Fn=function(n){return a(n).num},Gn=function(n){return a(n).name},Bn=function(n){return a(n).semitones},In=function(n){return a(n).chroma},Tn=function(n){return"string"==typeof n&&(n=a(n).chroma),"number"==typeof n?_n[n%12]:null},Nn=function(n){void 0===n&&(n={});var t=n.num,r=n.step,e=n.alt,m=n.oct;void 0===m&&(m=1);var i=n.dir;if(void 0!==r&&(t=r+1+7*m),void 0===t)return null;var u=i<0?"-":"",o="PMMPPMM"[En(t)];return u+t+Dn(o,e)},Ln=function(n){var t=a(n);return t===kn?null:t.simple+t.q},Rn=function(n){var t=a(n);if(t===kn)return null;var r=(7-t.step)%7,e="P"===t.type?-t.alt:-(t.alt+1);return Nn({step:r,alt:e,oct:t.oct,dir:t.dir})},Un=[1,2,2,3,3,4,5,5,6,6,7,7],Hn="P m M m M P d P m M m M".split(" "),Jn=function(n){var t=n<0?-1:1,r=Math.abs(n),e=r%12,m=Math.floor(r/12);return t*(Un[e]+7*m)+Hn[e]},Kn=Object.freeze({names:zn,tokenize:qn,props:a,num:Fn,name:Gn,semitones:Bn,chroma:In,ic:Tn,build:Nn,simplify:Ln,invert:Rn,fromSemitones:Jn}),Qn=[0,2,4,-1,1,3,5],Vn=function(n){return Math.floor(7*n/12)},Wn=Qn.map(Vn),Xn=function(n){var t=n.step,r=n.alt,e=n.oct,m=n.dir;void 0===m&&(m=1);var i=Qn[t]+7*r;return null===e?[m*i]:[m*i,m*(e-Wn[t]-4*r)]},Yn=[3,0,4,1,5,2,6],Zn=function(n,t,r){var e=Yn[M(n)],m=Math.floor((n+1)/7);return void 0===t?{step:e,alt:m,dir:r}:{step:e,alt:m,oct:t+4*m+Wn[e],dir:r}},nt=function(n,t){return void 0===t&&(t={}),function(r){return t[r]||(t[r]=n(r))}},tt=function(n){return nt(function(t){var r=n(t);return null===r.name?null:Xn(r)})},rt=tt(W),et=tt(a),mt=function(n){return 7*n[0]+12*n[1]<0},it=function(n){return mt(n)?Zn(-n[0],-n[1],-1):Zn(n[0],n[1],1)},ut=Object.freeze({transpose:c,trFifths:l,fifths:f,transposeBy:s,addIntervals:d,add:p,subtract:b,interval:h,semitones:v}),ot={chromatic:["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],lydian:["1P 2M 3M 4A 5P 6M 7M"],major:["1P 2M 3M 4P 5P 6M 7M",["ionian"]],mixolydian:["1P 2M 3M 4P 5P 6M 7m",["dominant"]],dorian:["1P 2M 3m 4P 5P 6M 7m"],aeolian:["1P 2M 3m 4P 5P 6m 7m",["minor"]],phrygian:["1P 2m 3m 4P 5P 6m 7m"],locrian:["1P 2m 3m 4P 5d 6m 7m"],altered:["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],diminished:["1P 2M 3m 4P 5d 6m 6M 7M",["whole-half diminished"]],iwato:["1P 2m 4P 5d 7m"],hirajoshi:["1P 2M 3m 5P 6m"],kumoijoshi:["1P 2m 4P 5P 6m"],pelog:["1P 2m 3m 5P 6m"],prometheus:["1P 2M 3M 4A 6M 7m"],ritusen:["1P 2M 4P 5P 6M"],scriabin:["1P 2m 3M 5P 6M"],piongio:["1P 2M 4P 5P 6M 7m"],augmented:["1P 2A 3M 5P 5A 7M"],neopolitan:["1P 2m 3m 4P 5P 6m 7M"],egyptian:["1P 2M 4P 5P 7m"],oriental:["1P 2m 3M 4P 5d 6M 7m"],flamenco:["1P 2m 3m 3M 4A 5P 7m"],balinese:["1P 2m 3m 4P 5P 6m 7M"],persian:["1P 2m 3M 4P 5d 6m 7M"],bebop:["1P 2M 3M 4P 5P 6M 7m 7M"],enigmatic:["1P 2m 3M 5d 6m 7m 7M"],ichikosucho:["1P 2M 3M 4P 5d 5P 6M 7M"],"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m",["half-diminished"]],"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"phrygian dominant":["1P 2m 3M 4P 5P 6m 7m",["spanish","phrygian major"]],"half-whole diminished":["1P 2m 3m 3M 4A 5P 6M 7m",["dominant diminished"]],"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],"six tone symmetric":["1P 2m 3M 4P 5A 6M"]},Pt={M:["1P 3M 5P",["Major",""]],M13:["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],M6:["1P 3M 5P 13M",["6"]],M69:["1P 3M 5P 6M 9M",["69"]],M7add13:["1P 3M 5P 6M 7M 9M"],M7b5:["1P 3M 5d 7M"],M7b6:["1P 3M 6m 7M"],M7b9:["1P 3M 5P 7M 9m"],M7sus4:["1P 4P 5P 7M"],M9:["1P 3M 5P 7M 9M",["maj9","Maj9"]],M9b5:["1P 3M 5d 7M 9M"],M9sus4:["1P 4P 5P 7M 9M"],Madd9:["1P 3M 5P 9M",["2","add9","add2"]],Maj7:["1P 3M 5P 7M",["maj7","M7"]],Mb5:["1P 3M 5d"],Mb6:["1P 3M 13m"],Msus2:["1P 2M 5P",["add9no3","sus2"]],Msus4:["1P 4P 5P",["sus","sus4"]],Maddb9:["1P 3M 5P 9m"],m:["1P 3m 5P"],m11:["1P 3m 5P 7m 9M 11P",["_11"]],m11b5:["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13:["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6:["1P 3m 4P 5P 13M",["_6"]],m69:["1P 3m 5P 6M 9M",["_69"]],m7:["1P 3m 5P 7m",["minor7","_","_7"]],m7add11:["1P 3m 5P 7m 11P",["m7add4"]],m7b5:["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9:["1P 3m 5P 7m 9M",["_9"]],m9b5:["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7:["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6:["1P 3m 5P 6m 7M",["mM7b6"]],mM9:["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6:["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7:["1P 3m 6m 7M"],mb6b9:["1P 3m 6m 9m"],o:["1P 3m 5d",["mb5","dim"]],o7:["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7:["1P 3m 5d 6M 7M"],oM7:["1P 3m 5d 7M"],sus24:["1P 2M 4P 5P",["sus4add9"]],madd4:["1P 3m 4P 5P"],madd9:["1P 3m 5P 9M"],4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],"m#5":["1P 3m 5A",["m+","mb6"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],"m7#5":["1P 3m 6m 7m"],"m9#5":["1P 3m 6m 7m 9M"],"+add#9":["1P 3M 5A 9A"]},at=function(n){return on(n)||In(n)||0},Mt=function(n){return parseInt(A(n),2)},ct=function(n){return n.replace(/0/g,"").length},lt=null,ft=/^[01]{12}$/,st="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" "),dt=Object.freeze({chroma:A,chromas:g,modes:j,isChroma:y,intervals:O,isEqual:_,isSubsetOf:x,isSupersetOf:z,includes:q,filter:k}),pt=function(n){var t=Object.keys(n).sort(),r=[],e=[],m=function(n,t,m){r[n]=t,e[m]=e[m]||[],e[m].push(n)};t.forEach(function(t){var r=n[t][0].split(" "),e=n[t][1],i=A(r);m(t,r,i),e&&e.forEach(function(n){return m(n,r,i)})});var i=Object.keys(r).sort(),u=function(n){return r[n]};return u.names=function(n){return"string"==typeof n?(e[n]||[]).slice():(!0===n?i:t).slice()},u},bt=function(n,t){var r=function(r){return n(r)||t(r)};return r.names=function(r){return n.names(r).concat(t.names(r))},r},ht=pt(ot),vt=pt(Pt),At=bt(ht,vt),gt=Object.freeze({dictionary:pt,combine:bt,scale:ht,chord:vt,pcset:At}),jt=Object.freeze({name:null,intervals:[],names:[],chroma:null,setnum:null}),yt=function(n,t){return function(r){return t[r]||(t[r]=n(r))}}(function(n){var t=ht(n);if(!t)return jt;var r={intervals:t,name:n};return r.chroma=A(t),r.setnum=parseInt(r.chroma,2),r.names=ht.names(r.chroma),Object.freeze(r)},{}),Ot=ht.names,_t=function(n){var t=D(n);return yt(t[1]).intervals},xt=function(n){var t=_t(n),r=w(n);return j(t).map(function(n,e){var m=ht.names(n)[0];if(m)return[r[e]||t[e],m]}).filter(function(n){return n})},zt=function(n){var t=x(_t(n));return vt.names().filter(function(n){return t(vt(n))})},qt=function(n){var t=hn(n.map(Y));if(!t.length)return t;var r=t[0],e=P(t);return u(e.indexOf(r),e)},kt=function(n){if(!_t(n).length)return[];var t=z(_t(n));return ht.names().filter(function(n){return t(ht(n))})},wt=function(n){var t=x(_t(n));return ht.names().filter(function(n){return t(ht(n))})},Ct=Object.freeze({props:yt,names:Ot,intervals:_t,notes:w,exists:C,tokenize:D,modeNames:xt,chords:zt,toScale:qt,supersets:kt,subsets:wt}),Dt=vt.names,Et=Object.freeze({name:null,names:[],intervals:[],chroma:null,setnum:null}),St=function(n,t){return void 0===t&&(t={}),function(r){return t[r]||(t[r]=n(r))}}(function(n){var t=vt(n);if(!t)return Et;var r={intervals:t,name:n};return r.chroma=A(t),r.setnum=parseInt(r.chroma,2),r.names=vt.names(r.chroma),r}),$t=function(n){return St(S(n)[1]).intervals},Ft=function(n){return void 0!==vt(S(n)[1])},Gt=function(n){if(!$t(n).length)return[];var t=z($t(n));return vt.names().filter(function(n){return t(vt(n))})},Bt=function(n){var t=x($t(n));return vt.names().filter(function(n){return t(vt(n))})},It=/^(6|64|7|9|11|13)$/,Tt=Object.freeze({names:Dt,props:St,intervals:$t,notes:E,exists:Ft,supersets:Gt,subsets:Bt,tokenize:S}),Nt=Object.freeze({numeric:F,chromatic:G,fifths:B,scale:I}),Lt=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/,Rt=function(n,t){return Array(t+1).join(n)},Ut=Object.freeze({tokenize:T,toNote:N,toAbc:L}),Ht=c,Jt=h,Kt=W,Qt=nn,Vt=rn,Wt=vt,Xt=ht;n.Array=jn,n.Note=bn,n.Interval=Kn,n.Distance=ut,n.Scale=Ct,n.Chord=Tt,n.PcSet=dt,n.Dictionary=gt,n.Range=Nt,n.Abc=Ut,n.transpose=Ht,n.interval=Jt,n.note=Kt,n.midi=Qt,n.freq=Vt,n.chord=Wt,n.scale=Xt,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=tonal.min.js.map
